
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-97947441-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>tick.hawkes.HawkesEM &#8212; tick 0.6.0 documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="tick.hawkes.HawkesBasisKernels" href="tick.hawkes.HawkesBasisKernels.html" />
    <link rel="prev" title="tick.hawkes.HawkesSumGaussians" href="tick.hawkes.HawkesSumGaussians.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="None navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          tick</a>
        <span class="navbar-text navbar-version pull-left"><b>0.6</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../auto_examples/index.html">Examples</a></li>
                <li><a href="../api.html">API</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Browse <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../hawkes.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tick.hawkes</span></code></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../hawkes.html#introduction">1. Introduction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../hawkes.html#learners">2. Learners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hawkes.html#point-process-simulation">3. Point process simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hawkes.html#models-for-inference">4. Models for inference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../linear_model.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tick.linear_model</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../linear_model.html#introduction">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linear_model.html#learners">2. Learners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linear_model.html#models">3. Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linear_model.html#simulation">4. Simulation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../robust.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tick.robust</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../robust.html#regression-with-individual-intercepts">1. Regression with individual intercepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../robust.html#robust-losses">2. Robust losses</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../survival.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tick.survival</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../survival.html#learners">1. Learners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../survival.html#models">2. Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../survival.html#simulation">3. Simulation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../prox.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tick.prox</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../prox.html#available-operators">1. Available operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prox.html#example">2. Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prox.html#how-to-combine-several-prox">3. How to combine several prox ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prox.html#the-prox-class-api">4. The <code class="docutils literal notranslate"><span class="pre">prox</span></code> class API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../solver.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tick.solver</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../solver.html#the-solver-class-api">1. The <code class="docutils literal notranslate"><span class="pre">solver</span></code> class API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solver.html#available-solvers">2. Available solvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solver.html#example">3. Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../simulation.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tick.simulation</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../simulation.html#simulation-of-model-weights">1. Simulation of model weights</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simulation.html#simulation-of-a-features-matrix">2. Simulation of a features matrix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plot.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tick.plot</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../plot.html#history-plot">1. History plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plot.html#plots-for-hawkes-processes">2. Plots for Hawkes processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plot.html#plots-for-point-process-simulation">3. Plots for point process simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plot.html#miscellaneous-plots">4. Miscellaneous plots</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dataset.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tick.dataset</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="tick.dataset.fetch_tick_dataset.html">tick.dataset.fetch_tick_dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="tick.dataset.fetch_hawkes_bund_data.html">tick.dataset.fetch_hawkes_bund_data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../preprocessing.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tick.preprocessing</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../preprocessing.html#preprocessing-for-static-features">Preprocessing for static features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preprocessing.html#preprocessing-for-longitudinal-features">Preprocessing for longitudinal features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../metrics.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tick.metrics</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="tick.metrics.support_fdp.html">tick.metrics.support_fdp</a></li>
<li class="toctree-l2"><a class="reference internal" href="tick.metrics.support_recall.html">tick.metrics.support_recall</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../R.html">How to use <code class="docutils literal notranslate"><span class="pre">tick</span></code> from the R statistical software</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../R.html#training-a-logistic-regression-model">1. Training a logistic regression model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../R.html#simulation-of-a-hawkes-process">2. Simulation of a Hawkes process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../R.html#using-optimization-tools-from-r">3. Using optimization tools from R</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev.html">Developer documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dev.html#main-highlights">Main highlights</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev.html#base-class">Base class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev.html#how-to-add-a-new-model-solver-or-prox">How to add a new model, solver or prox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev.html#enable-python-pickling-of-c-objects">Enable Python-pickling of C++ objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev.html#tips-for-debugging-c-classes-in-tick">Tips for debugging C++ classes in tick</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api.html#table-of-contents">Table of contents</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api.html#hawkes"><span class="xref std std-ref">hawkes</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#linear-model"><span class="xref std std-ref">linear_model</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#robust"><span class="xref std std-ref">robust</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#survival"><span class="xref std std-ref">survival</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#prox"><span class="xref std std-ref">prox</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#solver"><span class="xref std std-ref">solver</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#api-simulation"><span class="xref std std-ref">simulation</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#plot"><span class="xref std std-ref">plot</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#dataset"><span class="xref std std-ref">dataset</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#preprocessing"><span class="xref std std-ref">preprocessing</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#metrics"><span class="xref std std-ref">metrics</span></a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container content-container">
  
  <div class="section" id="tick-hawkes-hawkesem">
<span id="hawkesem"></span><h1>tick.hawkes.HawkesEM<a class="headerlink" href="#tick-hawkes-hawkesem" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="tick.hawkes.HawkesEM">
<em class="property">class </em><code class="sig-prename descclassname">tick.hawkes.</code><code class="sig-name descname">HawkesEM</code><span class="sig-paren">(</span><em class="sig-param">kernel_support=None</em>, <em class="sig-param">kernel_size=10</em>, <em class="sig-param">kernel_discretization=None</em>, <em class="sig-param">tol=1e-05</em>, <em class="sig-param">max_iter=100</em>, <em class="sig-param">print_every=10</em>, <em class="sig-param">record_every=10</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">n_threads=1</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tick/hawkes/inference/hawkes_em.html#HawkesEM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tick.hawkes.HawkesEM" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is used for performing non parametric estimation of
multi-dimensional Hawkes processes based on expectation
maximization algorithm.</p>
<p>Hawkes processes are point processes defined by the intensity:</p>
<div class="math notranslate nohighlight">
\[\forall i \in [1 \dots D], \quad
\lambda_i = \mu_i + \sum_{j=1}^D \int \phi_{ij} dN_j\]</div>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(D\)</span> is the number of nodes</p></li>
<li><p><span class="math notranslate nohighlight">\(\mu_i\)</span> are the baseline intensities</p></li>
<li><p><span class="math notranslate nohighlight">\(\phi_{ij}\)</span> are the kernels</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kernel_support</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, default=`None`</p>
<blockquote>
<div><p>The support size common to all the kernels. Might be <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> if
<code class="xref py py-obj docutils literal notranslate"><span class="pre">kernel_discretization</span></code> is set</p>
</div></blockquote>
<p><strong>kernel_size</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, default=10</p>
<blockquote>
<div><p>Number of discretizations of the kernel</p>
</div></blockquote>
<p><strong>kernel_discretization</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code>, default=None</p>
<blockquote>
<div><p>Explicit discretization of the kernel. If set, it will override
<code class="xref py py-obj docutils literal notranslate"><span class="pre">kernel_support</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">kernel_size</span></code> values.</p>
</div></blockquote>
<p><strong>tol</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, default=1e-5</p>
<blockquote>
<div><p>The tolerance of the solver (iterations stop when the stopping
criterion is below it). If not reached the solver does <code class="docutils literal notranslate"><span class="pre">max_iter</span></code>
iterations</p>
</div></blockquote>
<p><strong>max_iter</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, default=100</p>
<blockquote>
<div><p>Maximum number of iterations of the solver</p>
</div></blockquote>
<p><strong>verbose</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, default=False</p>
<blockquote>
<div><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, we verbose things, otherwise the solver does not
print anything (but records information in history anyway)</p>
</div></blockquote>
<p><strong>print_every</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, default=10</p>
<blockquote>
<div><p>Print history information when <code class="docutils literal notranslate"><span class="pre">n_iter</span></code> (iteration number) is
a multiple of <code class="docutils literal notranslate"><span class="pre">print_every</span></code></p>
</div></blockquote>
<p><strong>record_every</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, default=10</p>
<blockquote>
<div><p>Record history information when <code class="docutils literal notranslate"><span class="pre">n_iter</span></code> (iteration number) is
a multiple of <code class="docutils literal notranslate"><span class="pre">record_every</span></code></p>
</div></blockquote>
<p><strong>n_threads</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, default=1</p>
<blockquote>
<div><p>Number of threads used for parallel computation.</p>
<ul class="simple">
<li><p>if <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span> <span class="pre">&lt;=</span> <span class="pre">0</span></code>: the number of physical cores available on the CPU</p></li>
<li><p>otherwise the desired number of threads</p></li>
</ul>
</div></blockquote>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><p><strong>n_nodes</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
<blockquote>
<div><p>Number of nodes of the estimated Hawkes process</p>
</div></blockquote>
<p><strong>n_realizations</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
<blockquote>
<div><p>Number of given realizations</p>
</div></blockquote>
<p><strong>kernel</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.array</span></code> shape=(n_nodes, n_nodes, kernel_size)</p>
<blockquote>
<div><p>The estimated kernels</p>
</div></blockquote>
<p><strong>baseline</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.array</span></code> shape=(n_nodes)</p>
<blockquote>
<div><p>The estimated baseline</p>
</div></blockquote>
</dd>
</dl>
<p class="rubric">References</p>
<p>Lewis, E., &amp; Mohler, G. (2011).
A nonparametric EM algorithm for multiscale Hawkes processes.
<a class="reference external" href="http://paleo.sscnet.ucla.edu/Lewis-Molher-EM_Preprint.pdf">preprint, 1-16</a>.</p>
<p>The n-dimensional extension of this algorithm can be found in the latex
documentation.</p>
<dl class="method">
<dt id="tick.hawkes.HawkesEM.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">kernel_support=None</em>, <em class="sig-param">kernel_size=10</em>, <em class="sig-param">kernel_discretization=None</em>, <em class="sig-param">tol=1e-05</em>, <em class="sig-param">max_iter=100</em>, <em class="sig-param">print_every=10</em>, <em class="sig-param">record_every=10</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">n_threads=1</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tick/hawkes/inference/hawkes_em.html#HawkesEM.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tick.hawkes.HawkesEM.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="method">
<dt id="tick.hawkes.HawkesEM.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">events</em>, <em class="sig-param">end_times=None</em>, <em class="sig-param">baseline_start=None</em>, <em class="sig-param">kernel_start=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tick/hawkes/inference/hawkes_em.html#HawkesEM.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tick.hawkes.HawkesEM.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model according to the given training data.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>events</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code></p>
<blockquote>
<div><p>List of Hawkes processes realizations.
Each realization of the Hawkes process is a list of n_node for
each component of the Hawkes. Namely <code class="xref py py-obj docutils literal notranslate"><span class="pre">events[i][j]</span></code> contains a
one-dimensional <code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code> of the events’ timestamps of
component j of realization i.
If only one realization is given, it will be wrapped into a list</p>
</div></blockquote>
<p><strong>end_times</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, default = None</p>
<blockquote>
<div><p>List of end time of all hawkes processes that will be given to the
model. If None, it will be set to each realization’s latest time.
If only one realization is provided, then a float can be given.</p>
</div></blockquote>
<p><strong>baseline_start</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code>, shape=(n_nodes), default=None</p>
<blockquote>
<div><p>Used to force start values for baseline parameter
If <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> starts with uniform 1 values</p>
</div></blockquote>
<p><strong>kernel_start</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code>, shape=(n_nodes, n_nodes, kernel_size), default=None</p>
<blockquote>
<div><p>Used to force start values for kernel parameter
If <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> starts with random values</p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tick.hawkes.HawkesEM.get_history">
<code class="sig-name descname">get_history</code><span class="sig-paren">(</span><em class="sig-param">key=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tick.hawkes.HawkesEM.get_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns history of the solver</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, default=None</p>
<blockquote>
<div><ul class="simple">
<li><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> all history is returned as a <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></p></li>
<li><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, name of the history element to retrieve</p></li>
</ul>
</div></blockquote>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>output</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></p>
<blockquote>
<div><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">key</span></code> is None or <code class="docutils literal notranslate"><span class="pre">key</span></code> is not in history then
output is a dict containing history of all keys</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">key</span></code> is the name of an element in the history,
output is a <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> containing the history of this element</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tick.hawkes.HawkesEM.get_kernel_norms">
<code class="sig-name descname">get_kernel_norms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tick/hawkes/inference/hawkes_em.html#HawkesEM.get_kernel_norms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tick.hawkes.HawkesEM.get_kernel_norms" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes kernel norms. This makes our learner compliant with
<a class="reference internal" href="tick.plot.plot_hawkes_kernel_norms.html#tick.plot.plot_hawkes_kernel_norms" title="tick.plot.plot_hawkes_kernel_norms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tick.plot.plot_hawkes_kernel_norms</span></code></a> API</p>
<dl class="field-list">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>norms</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code>, shape=(n_nodes, n_nodes)</p>
<blockquote>
<div><p>2d array in which each entry i, j corresponds to the norm of
kernel i, j</p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tick.hawkes.HawkesEM.get_kernel_supports">
<code class="sig-name descname">get_kernel_supports</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tick/hawkes/inference/hawkes_em.html#HawkesEM.get_kernel_supports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tick.hawkes.HawkesEM.get_kernel_supports" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes kernel support. This makes our learner compliant with
<a class="reference internal" href="tick.plot.plot_hawkes_kernels.html#tick.plot.plot_hawkes_kernels" title="tick.plot.plot_hawkes_kernels"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tick.plot.plot_hawkes_kernels</span></code></a> API</p>
<dl class="field-list">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>output</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code>, shape=(n_nodes, n_nodes)</p>
<blockquote>
<div><p>2d array in which each entry i, j corresponds to the support of
kernel i, j</p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tick.hawkes.HawkesEM.get_kernel_values">
<code class="sig-name descname">get_kernel_values</code><span class="sig-paren">(</span><em class="sig-param">i</em>, <em class="sig-param">j</em>, <em class="sig-param">abscissa_array</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tick/hawkes/inference/hawkes_em.html#HawkesEM.get_kernel_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tick.hawkes.HawkesEM.get_kernel_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes value of the specified kernel on given time values. This
makes our learner compliant with <a class="reference internal" href="tick.plot.plot_hawkes_kernels.html#tick.plot.plot_hawkes_kernels" title="tick.plot.plot_hawkes_kernels"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tick.plot.plot_hawkes_kernels</span></code></a> API</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>i</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
<blockquote>
<div><p>First index of the kernel</p>
</div></blockquote>
<p><strong>j</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
<blockquote>
<div><p>Second index of the kernel</p>
</div></blockquote>
<p><strong>abscissa_array</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code>, shape=(n_points, )</p>
<blockquote>
<div><p>1d array containing all the times at which this kernel will
computes it value</p>
</div></blockquote>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>output</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code>, shape=(n_points, )</p>
<blockquote>
<div><p>1d array containing the values of the specified kernels at the
given times.</p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tick.hawkes.HawkesEM.objective">
<code class="sig-name descname">objective</code><span class="sig-paren">(</span><em class="sig-param">coeffs</em>, <em class="sig-param">loss: float = None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tick/hawkes/inference/hawkes_em.html#HawkesEM.objective"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tick.hawkes.HawkesEM.objective" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the objective minimized by the solver at <code class="docutils literal notranslate"><span class="pre">coeffs</span></code></p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>coeffs</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, shape=(n_coeffs,)</p>
<blockquote>
<div><p>The objective is computed at this point</p>
</div></blockquote>
<p><strong>loss</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, default=`None`</p>
<blockquote>
<div><p>Gives the value of the loss if already known (allows to
avoid its computation in some cases)</p>
</div></blockquote>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>output</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></p>
<blockquote>
<div><p>Value of the objective at given <code class="docutils literal notranslate"><span class="pre">coeffs</span></code></p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tick.hawkes.HawkesEM.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param">events=None</em>, <em class="sig-param">end_times=None</em>, <em class="sig-param">baseline=None</em>, <em class="sig-param">kernel=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tick/hawkes/inference/hawkes_em.html#HawkesEM.score"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tick.hawkes.HawkesEM.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute score metric
Score metric is log likelihood (the higher the better)</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>events</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code>, default = None</p>
<blockquote>
<div><p>List of Hawkes processes realizations used to measure score.
Each realization of the Hawkes process is a list of n_node for
each component of the Hawkes. Namely <code class="xref py py-obj docutils literal notranslate"><span class="pre">events[i][j]</span></code> contains a
one-dimensional <code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code> of the events’ timestamps of
component j of realization i.
If only one realization is given, it will be wrapped into a list
If None, events given while fitting model will be used</p>
</div></blockquote>
<p><strong>end_times</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, default = None</p>
<blockquote>
<div><p>List of end time of all hawkes processes used to measure score.
If None, it will be set to each realization’s latest time.
If only one realization is provided, then a float can be given.</p>
</div></blockquote>
<p><strong>baseline</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code>, shape=(n_nodes, ), default = None</p>
<blockquote>
<div><p>Baseline vector for which the score is measured
If <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> baseline obtained during fitting is used</p>
</div></blockquote>
<p><strong>kernel</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code>, shape=(n_nodes, n_nodes, kernel_size), default=None</p>
<blockquote>
<div><p>Used to force start values for kernel parameter
If <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> kernel obtained during fitting is used</p>
</div></blockquote>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>likelihood</strong> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">double</span></code></p>
<blockquote>
<div><p>Computed log likelihood value</p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

</dd></dl>

<div class="section" id="examples-using-tick-hawkes-hawkesem">
<h2>Examples using <code class="docutils literal notranslate"><span class="pre">tick.hawkes.HawkesEM</span></code><a class="headerlink" href="#examples-using-tick-hawkes-hawkesem" title="Permalink to this headline">¶</a></h2>
<div class="thumbnailContainer" tooltip="This Hawkes EM (`tick.inference.HawkesEM`) algorithm assume that kernels are piecewise constant..."><div class="figure align-default" id="id1">
<a class="reference external image-reference" href="./../../auto_examples/./plot_hawkes_em.html"><img alt="../../_images/plot_hawkes_em1.png" src="../../_images/plot_hawkes_em1.png" /></a>
<p class="caption"><span class="caption-text"><a class="reference internal" href="../../auto_examples/plot_hawkes_em.html#example-plot-hawkes-em-py"><span class="std std-ref">Fit Hawkes random kernels</span></a></span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
</div></div>
</div>


</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright Emmanuel Bacry, Martin Bompaire, Stephane Gaiffas, Maryan Morel, Søren Vinther Poulsen.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>